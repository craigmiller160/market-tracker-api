app-deployment:
  appName: market-tracker-api
  deployment:
    image: nexus-docker-craigmiller160.ddns.net/market-tracker-api:latest
    configMaps:
      - market-tracker-api-config
    ports:
      - 8080
    secrets:
      - envVariable: MONGO_USER
        secretName: mongodb-root-account
        secretKey: username
      - envVariable: MONGO_PASSWORD
        secretName: mongodb-root-account
        secretKey: password
      - envVariable: CLIENT_KEY
        secretName: market-tracker-api-oauth2-keys
        secretKey: clientKey
      - envVariable: CLIENT_SECRET
        secretName: market-tracker-api-oauth2-keys
        secretKey: clientSecret
    livenessProbe:
      httpGet:
        path: /healthcheck
        port: 8080
        scheme: HTTPS
  service:
    enable: true
    type: ClusterIP
    ports:
      - containerPort: 8080